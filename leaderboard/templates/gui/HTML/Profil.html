{% extends "gui/HTML/base.html" %}

{% load bootstrap5 %}

{% block title %} {% endblock %}
{% block content %}

        <!-- Informations -->
        <div class="container" id="Informations">
            </br>
                <div class="card p-4">
                    <h4 class="card-title font-weight-bold text-center">Mon Profil</h4>
                    <hr>
                    <div class="card-text">
                        <p class="text-muted mb-0" style="font-size: 12px">Nom:</p>
                        <p>{{ user.last_name }}</p>
                        <p class="text-muted mb-0" style="font-size: 12px">Prénom:</p>
                        <p>{{ user.first_name }}</p>
                        <p class="text-muted mb-0" style="font-size: 12px">Email:</p>
                        <p>{{ user.email }} </p>
                    </div>
                </div>

                </br>
                <div>
                    <a href="/profil/edit">Modifier mes informations </a>
                </div>
            </br>

            <div class="card p-4">
                <h4 class="card-title font-weight-bold text-center">Mes équipes</h4>
                <hr>
                <div class="card-text">
                    <table>
                        <thead>
                            <tr>
                                <td>Nom</td>
                                <td>Role</td>
                                <td>Rejoint le</td>
                                <td></td>
                            </tr>
                        </thead>
                        {% for t in user_team %}
                                <tr>
                                    <td><a href="{% url 'teamProfil' t.team.id %}">{{t.team.name}} </a> </td>
                                    <td> {{t.getRole}} </td>
                                    <td>  {{t.date_joined}}</td>
                                        {% if t.role == 1 %}
                                        <td><button hx-get="{% url 'updateTeam' team_id=t.team.id%}" hx-target="#dialog" class="buttonLink">Modifier l'équipe </button></td>
                                        {% endif %}
                                </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
            </br>
            <div>
                <button hx-get="{% url 'createTeam' %}" hx-target="#dialog">
                    Créer une équipe                  </button>
            </div>

            <div class="card p-4">
                <h4 class="card-title font-weight-bold text-center">Les autres équipes</h4>
                <hr>
                <div class="card-text">
                    <table>
                        <thead>
                            <tr>
                                <td>Nom</td>
                                <td>Statut</td>
                            </tr>
                        </thead>
                        {% for t in waiting_team %}
                            <tr>
                                <td><a href="{% url 'teamProfil' t.id %}">{{t.name}} </a> </td>
                                <td>  En attente</td>
                            </tr>
                        {% endfor %}
                        {% for t in other_team %}
                                <tr>
                                    <td><a href="{% url 'teamProfil' t.id %}">{{t.name}} </a> </td>
                                    <input type="hidden" value="{{ t.id }}" name="Team-id">
                                    <td><a href="{% url 'joinTeam' team_id=t.id %}">Rejoindre</a></td>
                                </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
            </br>

        </div>
        <!-- Informations -->


{% endblock %}